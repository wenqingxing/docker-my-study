
C:\Users\huangxin\Desktop\资料\pinpoint安装搭建\pinpoint-docker-compose-install.zip

链接：https://pan.baidu.com/s/1WleoYuUll8q9pds3EjdYyw 
提取码：brpc 
 

unzip pinpoint-docker-compose-install.zip
cd pinpoint-docker-compose-install/
docker load -i pinpoint-all-image.tar

cd pinpoint-docker-compose-install
mv docker-compose /usr/local/bin/
chmod +x /usr/local/bin/docker-compose
cd pinpoint-docker
docker-compose pull && docker-compose up -d




web  访问

http://192.168.238.198:8079/#/main
http://192.168.238.198:8081/#/submit
http://192.168.238.198:8000/




Pinpoint Agent 部署


docker 镜像构建时要把pinpoint-agent解压后的把放进去，启动时要用这个路径去启动

COPY pinpoint-agent /pinpoint-agent

jar 启动时需要添加的参数
"-javaagent:/pinpoint-agent/pinpoint-bootstrap-1.8.3.jar","-Dpinpoint.agentId=tplmo-channel","-Dpinpoint.applicationName=tplmo-channel",

说明：
-javaagent:/pinpoint-agent/pinpoint-bootstrap-1.8.3.jar  (注意路径)
-Dpinpoint.agentId=tplmo-channel（名字随便填）
-Dpinpoint.applicationName=tplmo-channel（名字随便填）



完
----------------------------------------------------------------






提前安装docker-compose

官网参考：
https://github.com/naver/pinpoint-docker#testing-quickstart-application
mv docker-compose /usr/local/bin/
## git clone https://github.com/naver/pinpoint-docker.git
cd pinpoint-docker
docker-compose pull && docker-compose up -d


下面资料参考用



官网参数

-javaagent:$AGENT_PATH/pinpoint-bootstrap-$VERSION.jar
-Dpinpoint.agentId
-Dpinpoint.applicationName


获取上面参数的方式：

[root@localhost pinpoint-docker]# docker exec -it  pinpoint-quickstart bash

root@41706728aeea:/usr/local/tomcat# env

JAVA_OPTS=-javaagent:/pinpoint-agent/pinpoint-bootstrap-1.8.3.jar -Dpinpoint.agentId=app-in-docker -Dpinpoint.applicationName=quickapp




JAVA_OPTS=" -Duser.timezone=\"Asia/Shanghai\" -Djava.awt.headless=true -Djava.net.preferIPv4Stack=true"

PINPOINT_OPTS=" -javaagent:/opt/pinpoint/pinpoint-bootstrap-*.jar -Dpinpoint.agentId=store-demo-agent01 \
    -Dpinpoint.applicationName=store-demo"

java -jar ${JAVA_OPTS} ${PINPOINT_OPTS} /opt/store-demo-*.jar
 










